(()=>{"use strict";var e={398(e){e.exports=require("vscode")},317(e){e.exports=require("child_process")},928(e){e.exports=require("path")}},t={};function i(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,i),n.exports}var r={};(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.LocalizationActionProvider=void 0,e.activate=function(e){console.log("Localization Checker is now active!"),e.subscriptions.push(t.languages.registerCodeActionsProvider("dart",new c,{providedCodeActionKinds:c.providedCodeActionKinds})),e.subscriptions.push(t.commands.registerCommand("loc-checker.extractSingle",a))},e.deactivate=function(){};const t=i(398),o=i(317),n=i(928);class c{static providedCodeActionKinds=[t.CodeActionKind.QuickFix];provideCodeActions(e,t,i,r){const o=e.lineAt(t.start.line).text;if(o.includes("'")||o.includes('"'))return[this.createCommand()]}createCommand(){const e=new t.CodeAction("ðŸ’¡ Extract and Translate String",t.CodeActionKind.QuickFix);return e.command={command:"loc-checker.extractSingle",title:"Extract and Translate String",tooltip:"Extract this string to ARB and translate it using loc_checker"},e.isPreferred=!0,e}}async function a(){const e=t.window.activeTextEditor;if(!e)return;const i=e.document,r=e.selection.active,c=i.uri.fsPath;await i.save();const a=t.workspace.getWorkspaceFolder(i.uri),s=["run",a?n.join(a.uri.fsPath,"bin","loc_checker.dart"):"loc_checker","--extract-single",`--file=${c}`,`--line=${r.line+1}`,`--col=${r.character+1}`];t.window.withProgress({location:t.ProgressLocation.Notification,title:"Extracting and Translating...",cancellable:!1},async e=>new Promise((e,i)=>{o.execFile("dart",s,{cwd:a?.uri.fsPath||n.dirname(c)},(r,o,n)=>{if(r)return t.window.showErrorMessage(`Extraction failed: ${r.message} \n ${n}`),void i(r);t.window.showInformationMessage("Successfully extracted and translated string!"),e()})}))}e.LocalizationActionProvider=c})();var o=exports;for(var n in r)o[n]=r[n];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();